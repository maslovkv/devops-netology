# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Важно!

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы.
Это важно для того, чтоб предупредить неконтролируемый расход средств, полученных в результате использования промокода.

Подробные рекомендации [здесь](https://github.com/netology-code/virt-homeworks/blob/virt-11/r/README.md)

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

- При паравиртуализации для доступа к физическим ресурсам требуется ОС хоста. Гипервизор модифицирует ядро ВМ.
- При полной виртуализации гипервизор берет на себя роль хостовой ОС. Гостевые ОС получают доступ к ресурсам напрямую.
- При виртуализации на основе ОС нельзя запустить ВМ с ядрами отличными от хостовой ОС. Роль гипервизора выполняет ядро хостовой ОС.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
  
  Кластер из физических серверов. Нет накладных расходов виртуализации. Доступность обеспечивается кластером. 
- Различные web-приложения.

  Зависит от приложений, но в большинстве случаев подойдет контейнеризация или совместное использование с паравиртуализацией.
  Так как большие приложения иногда проще и удобнее администрировать, имея полноценную ОС.
  При этом контейнеры дают возможность более быстрого масштабирования и неизменности среды исполнения.
- Windows системы для использования бухгалтерским отделом.
  
  В большинстве случаев кластерная паравиртуализация с выносом на физические сервера (кластера) баз данных.
  Это позволяет более правильно утилизировать аппаратные ресурсы и увеличить отказоустойчивость. 
  
- Системы, выполняющие высокопроизводительные расчеты на GPU.
  
  Физические сервера. Нет накладных расходов виртуализации.
  Но в тоже время, согласно [статьи](https://infohub.delltechnologies.com/p/performance-study-of-a-vmware-vsphere-7-virtualized-hpc-cluster/), можно попробовать запуск определенных приложений HPC в виртуализированной среде. 

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
  

   SCVMM, как система управления для MS Hyper-V.
   При использовании Datacenter можно существенно сэкономить на лицензировании (лицензировав только хосты).
   Более широкий выбор аппаратного обеспечения. Дешевле, чем VMware vSphere.
   Linux integration services for hyper-v включены по умолчанию или доступны в базовых репозиториях популярных дистрибутивов Linux.
   
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

oVirt или ProxMox, как система управления KVM. Я бы выбрал oVirt, как более расширяемый и более нативно работающий с FiberChannel.

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

MS Hyper-V Server - как отдельное решение. Но вся бесплатность может быть нивелирована лицензированием ВМ.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Все зависит от программного продукта. Но скорее всего подойдет KVM или решения для контейнеризации LXC, Docker 

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Проблемы и недостатки, возможные решения:
1. Сложность администрирования. Как правило, нет единого интерфейса управления.
   Внедрение единой системы управления например MS SCVMM (Позволяет управлять ESXi, Hyper-V, Xen) или перевод максимально возможного числа хостов к одному выбранному стандарту. 
2. Сложность мониторинга. Для каждого средства виртуализации они свои.
   Внедрение кроссплатформенного продукта мониторинга. Например Zabbix.
3. Нет возможности автоматически перераспределить нагрузку между хостами с разными гипервизорами.
   Повышенная ответственность при размещении ВМ на гипервизорах.
   Перевод всех хостов к одному выбранному стандарту. Процесс небыстрый и не без подводных камней.
4. Высокие требования к обслуживающему персоналу или содержание нескольких команд специалистов.

Если бы был выбор, то нет. Но чаще приходится сталкиваться с его отсутствием.